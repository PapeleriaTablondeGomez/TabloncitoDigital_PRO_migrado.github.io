<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Producto - Tabloncito Digital</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Preconnect para recursos externos -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Preload recursos crÃ­ticos -->
    <link rel="preload" href="estilos.css" as="style">
    <link rel="preload" href="productos-iniciales.json" as="fetch" crossorigin>
    <link rel="stylesheet" href="estilos.css">
</head>
<body data-page="producto">

<header>
    <div class="header-inner">
        <div class="header-brand">
            <div class="logo-circle">ğŸ“š</div>
            <div class="header-text">
                <h1>Tabloncito Digital</h1>
                <span>Detalle de producto</span>
            </div>
        </div>
        <div class="header-info">
            <div>
                <span class="badge">ğŸ“² WhatsApp pedidos: 301 652 0610</span>
            </div>
            <div class="small">El TablÃ³n de GÃ³mez - NariÃ±o</div>
        </div>
    </div>
</header>

<nav>
    <div class="nav-tabs">
        <a class="nav-link" href="tienda.html">
            <span class="icon">ğŸ›’</span> <span>Volver a la tienda</span>
        </a>
        <a class="nav-link" href="tecnologia.html">
            <span class="icon">ğŸ’»</span> <span>TecnologÃ­a</span>
        </a>
        <a class="nav-link" href="admin.html">
            <span class="icon">ğŸ“¦</span> <span>Inventario / Admin</span>
        </a>
    </div>
</nav>

<main>
    <section class="producto-layout">

        <!-- GalerÃ­a -->
        <div class="producto-galeria">
            <img id="productoImagenPrincipal" class="producto-img-principal" src="" alt="Producto">
            <div id="productoThumbs" class="producto-thumbs"></div>
        </div>

        <!-- Info principal -->
        <div class="producto-info-main">
            <div class="producto-titulo-detalle" id="productoTituloDetalle">Producto</div>

            <div class="producto-badges" id="productoBadges"></div>

            <div class="producto-precio-detalle">
                <span class="producto-precio-actual" id="productoPrecioActual">$0</span>
                <span class="producto-precio-anterior" id="productoPrecioAnterior"></span>
                <span class="producto-descuento" id="productoDescuento"></span>
            </div>

            <div class="producto-ventas-texto" id="productoVentas"></div>

            <div class="producto-variantes">
                <label>Variantes / diseÃ±os disponibles:</label>
                <div id="variantesLista" class="variantes-lista">
                    <!-- dinÃ¡mico -->
                </div>
                <p class="text-muted small mt-5">
                    Si no eliges variante, se agregarÃ¡ como â€œmodelo aleatorioâ€.
                </p>
            </div>

            <div class="producto-cant-y-tipo">
                <div>
                    <label>Cantidad</label>
                    <input type="number" id="cantidadDetalle" min="1" value="1">
                </div>
                <div>
                    <label>Tipo de compra</label>
                    <select id="tipoVentaSelect">
                        <!-- unidad / pack -->
                    </select>
                </div>
            </div>

            <div class="producto-acciones">
                <button id="btnAgregarCarritoDetalle" class="btn btn-primary">
                    ğŸ›’ AÃ±adir al carrito
                </button>
                <button id="btnPedidoWhatsApp" class="btn btn-accent btn-sm" disabled>
                    ğŸ“² Ver carrito en WhatsApp
                </button>
            </div>

            <div class="producto-extra-info">
                <div><strong>Stock:</strong> <span id="productoStock"></span></div>
                <div><strong>CÃ³digo:</strong> <span id="productoSku"></span></div>
                <div><strong>CategorÃ­a:</strong> <span id="productoCategoria"></span></div>
            </div>

            <div class="producto-descripcion">
                <strong>DescripciÃ³n:</strong>
                <p id="productoDescripcion" class="mt-5"></p>
            </div>
        </div>

    </section>

    <!-- Carrito compacto abajo -->
    <section class="mt-10">
        <div class="card">
            <h2><span class="icon">ğŸ§º</span> Carrito rÃ¡pido</h2>
            <div id="carritoVacioMensaje" class="text-muted small mt-5">
                Tu carrito estÃ¡ vacÃ­o. Agrega este u otros productos. ğŸ’œ
            </div>
            <div id="carritoLista" class="carrito-lista"></div>
            <div class="carrito-footer">
                <div id="carritoTotal" class="carrito-total">Total: $0</div>
                <div class="carrito-botones">
                    <button id="btnVaciarCarrito" class="btn btn-secondary btn-sm" disabled>
                        ğŸ§¹ Vaciar
                    </button>
                    <button id="btnVentaFisica" class="btn btn-primary btn-sm" disabled>
                        ğŸ§¾ Venta fÃ­sica (desc. stock)
                    </button>
                    <!-- btnPedidoWhatsApp ya estÃ¡ arriba para que quede a mano -->
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Modal carrito flotante -->
<div id="modalCarrito" class="modal-carrito" style="display:none;">
    <div class="modal-carrito-backdrop" onclick="cerrarModalCarrito()"></div>
    <div class="modal-carrito-content">
        <h2><span class="icon">ğŸ§º</span> Tu carrito</h2>
        <div id="carritoVacioMensajeModal" class="text-muted small mt-5">
            Tu carrito estÃ¡ vacÃ­o. Agrega este u otros productos. ğŸ’œ
        </div>
        <div id="carritoListaModal" class="carrito-lista-modal"></div>
        <div class="modal-carrito-footer">
            <div id="carritoTotalModal" class="carrito-total">Total: $0</div>
            <div class="carrito-botones modal-carrito-actions">
                <button type="button" class="btn btn-primary" onclick="cerrarModalCarrito()">
                    â¬… Seguir comprando
                </button>
                <button type="button" class="btn btn-accent btn-sm" onclick="enviarPedidoWhatsApp()">
                    ğŸ“² Pedido WhatsApp
                </button>
                <button type="button" class="btn btn-secondary btn-sm" onclick="vaciarCarrito(); cerrarModalCarrito();">
                    ğŸ§¹ Vaciar
                </button>
            </div>
        </div>
    </div>
</div>

<button id="fabCarrito" class="fab-carrito" type="button" aria-label="Ir al carrito">
    <img src="carrito.png" alt="Carrito" class="fab-carrito-icon">
    <span id="fabCarritoCount" class="fab-carrito-count">0</span>
</button>

<footer>
    &copy; <span id="anioFooter"></span> Tabloncito Digital â€¢ Detalle de producto.
</footer>

<script src="script.js"></script>
</body>
</html>
