<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Producto - Tabloncito Digital</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="Icono.png">
    <link rel="shortcut icon" type="image/png" href="Icono.png">
    <link rel="apple-touch-icon" href="Icono.png">
    <!-- Preconnect para recursos externos -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Preload recursos cr√≠ticos -->
    <link rel="preload" href="estilos.css" as="style">
    <link rel="stylesheet" href="estilos.css">
    <!-- JSON inline para carga instant√°nea (se actualiza autom√°ticamente) -->
    <script id="productos-iniciales-data" type="application/json">
    </script>
</head>
<body data-page="producto">

<header>
    <div class="header-inner">
        <div class="header-brand">
            <div class="logo-circle"><img src="Icono.png" alt="Tabloncito Digital" style="width:100%;height:100%;object-fit:contain;"></div>
            <div class="header-text">
                <h1>Tabloncito Digital</h1>
                <span>Detalle de producto</span>
            </div>
        </div>
        <div class="header-info">
            <div>
                <span class="badge">üì≤ WhatsApp pedidos: 301 652 0610</span>
            </div>
            <div class="small">El Tabl√≥n de G√≥mez - Nari√±o</div>
        </div>
    </div>
</header>

<nav>
    <div class="nav-tabs">
        <a class="nav-link" href="tienda.html">
            <span class="icon">üõí</span> <span>Volver a la tienda</span>
        </a>
        <a class="nav-link" href="tecnologia.html">
            <span class="icon">üíª</span> <span>Tecnolog√≠a</span>
        </a>
        <a class="nav-link" href="admin.html">
            <span class="icon">üì¶</span> <span>Inventario / Admin</span>
        </a>
    </div>
</nav>

<main>
    <section class="producto-layout">

        <!-- Galer√≠a -->
        <div class="producto-galeria">
            <img id="productoImagenPrincipal" class="producto-img-principal" src="" alt="Producto">
            <div id="productoThumbs" class="producto-thumbs"></div>
        </div>

        <!-- Info principal -->
        <div class="producto-info-main">
            <div class="producto-titulo-detalle" id="productoTituloDetalle">Producto</div>

            <div class="producto-badges" id="productoBadges"></div>

            <div class="producto-precio-detalle">
                <span class="producto-precio-actual" id="productoPrecioActual">$0</span>
                <span class="producto-precio-anterior" id="productoPrecioAnterior"></span>
                <span class="producto-descuento" id="productoDescuento"></span>
            </div>

            <div class="producto-ventas-texto" id="productoVentas"></div>

            <div class="producto-variantes">
                <label>Variantes / dise√±os disponibles:</label>
                <div id="variantesLista" class="variantes-lista">
                    <!-- din√°mico -->
                </div>
                <p class="text-muted small mt-5">
                    Si no eliges variante, se agregar√° como ‚Äúmodelo aleatorio‚Äù.
                </p>
            </div>

            <div class="producto-cant-y-tipo">
                <div>
                    <label>Cantidad</label>
                    <input type="number" id="cantidadDetalle" min="1" value="1">
                </div>
                <div>
                    <label>Tipo de compra</label>
                    <select id="tipoVentaSelect">
                        <!-- unidad / pack -->
                    </select>
                </div>
            </div>

            <div class="producto-acciones">
                <button id="btnAgregarCarritoDetalle" class="btn btn-primary">
                    üõí A√±adir al carrito
                </button>
                <button id="btnPedidoWhatsApp" class="btn btn-accent btn-sm" disabled>
                    üì≤ Ver carrito en WhatsApp
                </button>
            </div>

            <div class="producto-extra-info">
                <div><strong>Stock:</strong> <span id="productoStock"></span></div>
                <div><strong>C√≥digo:</strong> <span id="productoSku"></span></div>
                <div><strong>Categor√≠a:</strong> <span id="productoCategoria"></span></div>
            </div>

            <div class="producto-descripcion">
                <strong>Descripci√≥n:</strong>
                <p id="productoDescripcion" class="mt-5"></p>
            </div>
        </div>

    </section>

    <!-- Carrito compacto abajo -->
    <section class="mt-10">
        <div class="card">
            <h2><span class="icon">üß∫</span> Carrito r√°pido</h2>
            <div id="carritoVacioMensaje" class="text-muted small mt-5">
                Tu carrito est√° vac√≠o. Agrega este u otros productos. üíú
            </div>
            <div id="carritoLista" class="carrito-lista"></div>
            <div class="carrito-footer">
                <div id="carritoTotal" class="carrito-total">Total: $0</div>
                <div class="carrito-botones">
                    <button id="btnVaciarCarrito" class="btn btn-secondary btn-sm" disabled>
                        üßπ Vaciar
                    </button>
                    <button id="btnVentaFisica" class="btn btn-primary btn-sm" disabled>
                        üßæ Venta f√≠sica (desc. stock)
                    </button>
                    <!-- btnPedidoWhatsApp ya est√° arriba para que quede a mano -->
                </div>
            </div>
        </div>
    </section>
</main>

<!-- Modal carrito flotante -->
<div id="modalCarrito" class="modal-carrito" style="display:none;">
    <div class="modal-carrito-backdrop" onclick="cerrarModalCarrito()"></div>
    <div class="modal-carrito-content">
        <h2><span class="icon">üß∫</span> Tu carrito</h2>
        <div id="carritoVacioMensajeModal" class="text-muted small mt-5">
            Tu carrito est√° vac√≠o. Agrega este u otros productos. üíú
        </div>
        <div id="carritoListaModal" class="carrito-lista-modal"></div>
        <div class="modal-carrito-footer">
            <div id="carritoTotalModal" class="carrito-total">Total: $0</div>
            <div class="carrito-botones modal-carrito-actions">
                <button type="button" class="btn btn-primary" onclick="cerrarModalCarrito()">
                    ‚¨Ö Seguir comprando
                </button>
                <button type="button" class="btn btn-accent btn-sm" onclick="enviarPedidoWhatsApp()">
                    üì≤ Pedido WhatsApp
                </button>
                <button type="button" class="btn btn-secondary btn-sm" onclick="vaciarCarrito(); cerrarModalCarrito();">
                    üßπ Vaciar
                </button>
            </div>
        </div>
    </div>
</div>

<button id="fabCarrito" class="fab-carrito" type="button" aria-label="Ir al carrito">
    <img src="carrito.png" alt="Carrito" class="fab-carrito-icon">
    <span id="fabCarritoCount" class="fab-carrito-count">0</span>
</button>

<footer>
    &copy; <span id="anioFooter"></span> Tabloncito Digital ‚Ä¢ Detalle de producto.
</footer>

<script src="script.js"></script>
</body>
</html>
