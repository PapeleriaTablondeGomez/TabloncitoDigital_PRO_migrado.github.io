<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Tabloncito Digital - Tienda</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="estilos.css">
</head>
<body data-page="tienda">

<header>
    <div class="header-inner">
        <div class="header-brand">
            <div class="logo-circle">ğŸ“š</div>
            <div class="header-text">
                <h1>Tabloncito Digital</h1>
                <span>PapelerÃ­a &amp; Detallitos â€¢ Tienda fÃ­sica y virtual</span>
            </div>
        </div>
        <div class="header-info">
            <div>
                <span class="badge">ğŸ“² WhatsApp pedidos: 301 652 0610</span>
            </div>
            <div class="small">El TablÃ³n de GÃ³mez - NariÃ±o</div>
        </div>
		
		
		
    </div>
	
	<div id="adminBar" style="
    position: absolute;
    top: 10px;
    right: 14px;
    background: #ffffffcc;
    padding: 6px 12px;
    border-radius: 12px;
    font-size: 0.8rem;
    display: none;
    align-items: center;
    gap: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
">
    <span style="font-weight: 600;">ğŸ‘¤ Admin</span>
    <button id="btnLogoutAdminTop" class="btn btn-secondary btn-sm">ğŸšª Cerrar sesiÃ³n</button>
</div>

</header>

<nav>
    <div class="nav-tabs">
        <a class="nav-link active" href="tienda.html">
            <span class="icon">ğŸ›’</span> <span>Tiendita</span>
        </a>
        <a class="nav-link" href="tecnologia.html">
            <span class="icon">ğŸ’»</span> <span>TecnologÃ­a</span>
        </a>
        <a class="nav-link" href="admin.html">
            <span class="icon">ğŸ“¦</span> <span>Inventario / Admin</span>
        </a>
    </div>
</nav>

<main>
    <section>
        <div class="layout-tienda">

            <!-- Columna izquierda: productos -->
            <div>
                <div class="card">
                    <h2><span class="icon">âœ¨</span> Productos disponibles</h2>

                    <div class="filtros-tienda">
                        <div>
                            <label>ğŸ” Buscar</label>
                            <input type="text" id="filtroBusqueda" placeholder="Nombre, descripciÃ³n, categorÃ­a, cÃ³digo...">
                        </div>
                        <div>
                            <label>ğŸ“‚ CategorÃ­a</label>
                            <select id="filtroCategoria">
                                <option value="">Todas</option>
                            </select>
                        </div>
                        <div>
                            <label>â†• Ordenar por</label>
                            <select id="filtroOrden">
                                <option value="nombre-asc">Nombre (A-Z)</option>
                                <option value="nombre-desc">Nombre (Z-A)</option>
                                <option value="precio-asc">Precio unidad (â†“)</option>
                                <option value="precio-desc">Precio unidad (â†‘)</option>
                            </select>
                        </div>
                    </div>

                    <div id="productosGrid" class="productos-grid"></div>
                    <p id="productosVacios" class="text-muted mt-5" style="display:none;">
                        No hay productos que coincidan con la bÃºsqueda o aÃºn no has registrado ninguno.
                    </p>
                </div>
            </div>

            <!-- Columna derecha: carrito -->
            <div>
                <div class="card">
                    <h2><span class="icon">ğŸ§º</span> Carrito</h2>
                    <div id="carritoVacioMensaje" class="text-muted small mt-5">
                        Tu carrito estÃ¡ vacÃ­o. Agrega productos desde la tiendita. ğŸ’œ
                    </div>
                    <div id="carritoLista" class="carrito-lista"></div>

                    <div class="carrito-footer">
                        <div id="carritoTotal" class="carrito-total">Total: $0</div>
                        <div class="carrito-botones">
                            <button id="btnVaciarCarrito" class="btn btn-secondary btn-sm" disabled>
                                ğŸ§¹ Vaciar
                            </button>
                            <button id="btnVentaFisica" class="btn btn-primary btn-sm" disabled>
                                ğŸ§¾ Venta fÃ­sica (desc. stock)
                            </button>
                            <button id="btnPedidoWhatsApp" class="btn btn-accent btn-sm" disabled>
                                ğŸ“² Pedido WhatsApp
                            </button>
                        </div>
                        <p class="text-muted small mt-5">
                            La <strong>venta fÃ­sica</strong> descuenta del inventario. El <strong>pedido WhatsApp</strong> solo genera el mensaje con el detalle del carrito.
                        </p>
                    </div>
                </div>
            </div>

        </div>
    </section>
</main>

<!-- Modal carrito flotante -->
<div id="modalCarrito" class="modal-carrito" style="display:none;">
    <div class="modal-carrito-backdrop" onclick="cerrarModalCarrito()"></div>
    <div class="modal-carrito-content">
        <h2><span class="icon">ğŸ§º</span> Tu carrito</h2>
        <div id="carritoVacioMensajeModal" class="text-muted small mt-5">
            Tu carrito estÃ¡ vacÃ­o. Agrega productos desde la tiendita. ğŸ’œ
        </div>
        <div id="carritoListaModal" class="carrito-lista-modal"></div>
        <div class="modal-carrito-footer">
            <div id="carritoTotalModal" class="carrito-total">Total: $0</div>
            <div class="carrito-botones modal-carrito-actions">
                <button type="button" class="btn btn-primary" onclick="cerrarModalCarrito()">
                    â¬… Seguir comprando
                </button>
                <button type="button" class="btn btn-accent btn-sm" onclick="enviarPedidoWhatsApp()">
                    ğŸ“² Pedido WhatsApp
                </button>
                <button type="button" class="btn btn-secondary btn-sm" onclick="vaciarCarrito(); cerrarModalCarrito();">
                    ğŸ§¹ Vaciar
                </button>
            </div>
        </div>
    </div>
</div>

<button id="fabCarrito" class="fab-carrito" type="button" aria-label="Ir al carrito">
    ğŸ§º
    <span id="fabCarritoCount" class="fab-carrito-count">0</span>
</button>

<footer>
    &copy; <span id="anioFooter"></span> Tabloncito Digital â€¢ Sistema local de inventario y tiendita.
</footer>

<script src="script.js"></script>
</body>
</html>
